(()=>{var e,t={647:(e,t,r)=>{"use strict";var a=r(609);const n=window.wp.apiFetch;var o=r.n(n);const l=window.wp.url,i=window.wp.element,c=window.wp.i18n;var s=r(942),p=r.n(s);function u({active:e,children:t,page:r,pageClick:n,className:o}){const l=p()("wp-block activitypub-pager",o,{current:e});return(0,a.createElement)("a",{className:l,onClick:t=>{t.preventDefault(),!e&&n(r)}},t)}var f=r(848);const m={outlined:"outlined",minimal:"minimal"};function d({compact:e,nextLabel:t,page:r,pageClick:a,perPage:n,prevLabel:o,total:l,variant:i=m.outlined}){const c=((e,t)=>{let r=[1,e-2,e-1,e,e+1,e+2,t];r.sort(((e,t)=>e-t)),r=r.filter(((e,r,a)=>e>=1&&e<=t&&a.lastIndexOf(e)===r));for(let e=r.length-2;e>=0;e--)r[e]===r[e+1]&&r.splice(e+1,1);return r})(r,Math.ceil(l/n)),s=p()("alignwide wp-block-query-pagination is-content-justification-space-between is-layout-flex wp-block-query-pagination-is-layout-flex",`is-${i}`,{"is-compact":e});return(0,f.jsxs)("nav",{className:s,children:[o&&(0,f.jsx)(u,{page:r-1,pageClick:a,active:1===r,"aria-label":o,className:"wp-block-query-pagination-previous block-editor-block-list__block",children:o},"prev"),!e&&(0,f.jsx)("div",{className:"block-editor-block-list__block wp-block wp-block-query-pagination-numbers",children:c.map((e=>(0,f.jsx)(u,{page:e,pageClick:a,active:e===r,className:"page-numbers",children:e},e)))}),t&&(0,f.jsx)(u,{page:r+1,pageClick:a,active:r===Math.ceil(l/n),"aria-label":t,className:"wp-block-query-pagination-next block-editor-block-list__block",children:t},"next")]})}const v=window.wp.components,{namespace:b}=window._activityPubOptions;function w({selectedUser:e,per_page:t,order:r,title:n,page:s,setPage:p,className:u="",followLinks:f=!0,followerData:m=!1}){const v="site"===e?0:e,[w,g]=(0,a.useState)([]),[k,h]=(0,a.useState)(0),[_,E]=(0,a.useState)(0),[x,O]=function(){const[e,t]=(0,a.useState)(1);return[e,t]}(),N=s||x,S=p||O,j=(0,i.createInterpolateElement)(/* translators: arrow for previous followers link */ /* translators: arrow for previous followers link */
(0,c.__)("<span>←</span> Less","activitypub"),{span:(0,a.createElement)("span",{className:"wp-block-query-pagination-previous-arrow is-arrow-arrow","aria-hidden":"true"})}),C=(0,i.createInterpolateElement)(/* translators: arrow for next followers link */ /* translators: arrow for next followers link */
(0,c.__)("More <span>→</span>","activitypub"),{span:(0,a.createElement)("span",{className:"wp-block-query-pagination-next-arrow is-arrow-arrow","aria-hidden":"true"})}),L=(e,r)=>{g(e),E(r),h(Math.ceil(r/t))};return(0,a.useEffect)((()=>{if(m&&1===N)return L(m.followers,m.total);const e=function(e,t,r,a){const n=`/${b}/actors/${e}/followers`,o={per_page:t,order:r,page:a,context:"full"};return(0,l.addQueryArgs)(n,o)}(v,t,r,N);o()({path:e}).then((e=>L(e.orderedItems,e.totalItems))).catch((()=>{}))}),[v,t,r,N,m]),(0,a.createElement)("div",{className:"activitypub-follower-block "+u},(0,a.createElement)("h3",null,n),(0,a.createElement)("ul",null,w&&w.map((e=>(0,a.createElement)("li",{key:e.url},(0,a.createElement)(y,{...e,followLinks:f}))))),k>1&&(0,a.createElement)(d,{page:N,perPage:t,total:_,pageClick:S,nextLabel:C,prevLabel:j,compact:"is-style-compact"===u}))}function y({name:e,icon:t,url:r,preferredUsername:n,followLinks:o=!0}){const l=`@${n}`,i={};return o||(i.onClick=e=>e.preventDefault()),(0,a.createElement)(v.ExternalLink,{className:"activitypub-link",href:r,title:l,...i},(0,a.createElement)("img",{width:"40",height:"40",src:t.url,className:"avatar activitypub-avatar",alt:e}),(0,a.createElement)("span",{className:"activitypub-actor"},(0,a.createElement)("strong",{className:"activitypub-name"},e),(0,a.createElement)("span",{className:"sep"},"/"),(0,a.createElement)("span",{className:"activitypub-handle"},l)))}const g=window.wp.domReady;r.n(g)()((()=>{[].forEach.call(document.querySelectorAll(".activitypub-follower-block"),(e=>{const t=JSON.parse(e.dataset.attrs);(0,i.createRoot)(e).render((0,a.createElement)(w,{...t}))}))}))},20:(e,t,r)=>{"use strict";var a=r(609),n=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,c={},s=null,p=null;for(a in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(p=t.ref),t)o.call(t,a)&&!i.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===c[a]&&(c[a]=t[a]);return{$$typeof:n,type:e,key:s,ref:p,props:c,_owner:l.current}}t.jsx=c,t.jsxs=c},848:(e,t,r)=>{"use strict";e.exports=r(20)},609:e=>{"use strict";e.exports=window.React},942:(e,t)=>{var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=l(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=l(t,r));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,r,n,o)=>{if(!r){var l=1/0;for(p=0;p<e.length;p++){for(var[r,n,o]=e[p],i=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(a.O).every((e=>a.O[e](r[c])))?r.splice(c--,1):(i=!1,o<l&&(l=o));if(i){e.splice(p--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={996:0,528:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[l,i,c]=r,s=0;if(l.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var p=c(a)}for(t&&t(r);s<l.length;s++)o=l[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(p)},r=globalThis.webpackChunkwordpress_activitypub=globalThis.webpackChunkwordpress_activitypub||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=a.O(void 0,[528],(()=>a(647)));n=a.O(n)})();